---
import { getTranslations, type Language } from '../../i18n';

interface Props {
  language?: Language;
}

const { language = 'de' } = Astro.props;
const t = getTranslations(language);
---

<section id="kontakt">
  <div class="container">
    <div class="contact-grid">
      <div class="contact-intro">
        <div class="section-tag">{t.index.contact.tag}</div>
        <h2 class="section-heading">{t.index.contact.title}</h2>
        <p class="contact-highlight">{t.index.contact.highlight}</p>
        <p>{t.index.contact.text}</p>
      </div>
      <div class="contact-form">
        <form action="https://formspree.io/f/xlgwpdqg" method="POST">
          <div class="form-group">
            <label for="name">{t.index.contact.form.name}</label>
            <input type="text" id="name" name="name" placeholder={t.index.contact.form.namePlaceholder} required />
          </div>
          <div class="form-group">
            <label for="email">{t.index.contact.form.email}</label>
            <input type="email" id="email" name="email" placeholder={t.index.contact.form.emailPlaceholder} required />
          </div>
          <div class="form-group">
            <label for="stimme">{t.index.contact.form.voice}</label>
            <div class="select-wrapper">
              <select id="stimme" name="stimme">
                <option value="">{t.index.contact.form.voicePlaceholder}</option>
                <option value="sopran">Sopran</option>
                <option value="alt">Alt</option>
                <option value="tenor">Tenor</option>
                <option value="bass">Bass</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="nachricht">{t.index.contact.form.message}</label>
            <textarea id="nachricht" name="message" placeholder={t.index.contact.form.messagePlaceholder}></textarea>
          </div>
          <div class="form-group">
            <div class="checkbox-group">
              <input type="checkbox" id="datenschutz" name="datenschutz" value="akzeptiert" required />
              <label for="datenschutz">{t.index.contact.form.privacy}</label>
            </div>
          </div>
          <button type="submit" class="btn-submit">{t.index.contact.form.submit}</button>
        </form>
      </div>
    </div>
  </div>
</section>

<style>
  #kontakt { background: var(--cream); }

  .contact-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: start;
  }

  .contact-intro p { color: #555; margin-bottom: 16px; }
  .contact-form { background: var(--white); border-radius: 12px; padding: 40px; box-shadow: 0 4px 24px rgba(0,0,0,.06); }
  .contact-highlight { font-size: 1.1rem; color: #444; font-weight: 600; margin-bottom: 20px; }

  .form-group { margin-bottom: 22px; }

  label {
    display: block;
    font-size: 13px;
    font-weight: 700;
    margin-bottom: 8px;
    color: var(--dark);
    letter-spacing: .5px;
  }

  input[type=text],
  input[type=email],
  input[type=tel],
  textarea,
  select {
    width: 100%;
    padding: 12px 16px;
    border: 1.5px solid #ddd;
    border-radius: 8px;
    font-size: 15px;
    font-family: inherit;
    background: var(--white);
    color: var(--text);
    transition: border-color .2s;
    appearance: none;
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: var(--teal);
  }

  textarea { height: 120px; resize: vertical; }

  .select-wrapper { position: relative; }

  .select-wrapper::after {
    content: 'â–¾';
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--slate);
    pointer-events: none;
  }

  .checkbox-group { display: flex; gap: 12px; align-items: flex-start; }
  .checkbox-group input[type=checkbox] { margin-top: 3px; accent-color: var(--teal); width: 16px; height: 16px; flex-shrink: 0; }
  .checkbox-group label { font-weight: 400; font-size: 13px; color: #666; }

  .btn-submit {
    background: var(--teal);
    color: var(--white);
    font-weight: 700;
    font-size: 14px;
    letter-spacing: 1px;
    padding: 14px 40px;
    border: none;
    border-radius: 40px;
    cursor: pointer;
    transition: background .2s, transform .2s;
    text-transform: uppercase;
  }

  .btn-submit:hover { background: #1a3d4d; transform: translateY(-2px); }

  @media (max-width: 900px) {
    .contact-grid { grid-template-columns: 1fr; }
    #kontakt { padding-left: 12px; padding-right: 12px; }
    #kontakt .contact-form { padding: 28px 18px; }
  }
</style>
