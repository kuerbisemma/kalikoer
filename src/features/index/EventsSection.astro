---
import { getTranslations, type Language } from '../../i18n';

interface Props {
  language?: Language;
}

const { language = 'de' } = Astro.props;
const t = getTranslations(language);
const firstEvent = t.index.events.cards[0];
const secondEvent = t.index.events.cards[1];
---

<section id="termine">
  <div class="termine-stage">
    <div class="poster-wrap">
      <img src="/images/kalikoer-Juli 2026.jpg" alt={t.index.events.posterAlt} />
    </div>

    <div class="events-stack">
      <div class="events-header">
        <div class="section-tag">{t.index.events.tag}</div>
        <h2 class="section-heading">{t.index.events.title}</h2>
      </div>

      <div class="event-card">
        <div class="event-card-header">
          <div class="event-date">{firstEvent.date}</div>
          <div class="event-title">{firstEvent.title}</div>
        </div>
        <div class="event-body">
          <p>{firstEvent.text}</p>
          <div class="event-meta">
            <span>
              <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
              {firstEvent.meta[0]}
            </span>
            <span>
              <svg viewBox="0 0 24 24"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/></svg>
              {firstEvent.meta[1]}
            </span>
          </div>
        </div>
      </div>

      <div class="event-card">
        <div class="event-card-header">
          <div class="event-date">{secondEvent.date}</div>
          <div class="event-title">{secondEvent.title}</div>
        </div>
        <div class="event-body">
          <p>{secondEvent.text}</p>
          <div class="event-meta">
            <span>
              <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
              {secondEvent.meta[0]}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  #termine {
    background: #0d1a22;
    color: var(--white);
    padding: 100px 40px;
  }

  #termine .section-tag { color: #6fa8be; }
  #termine .section-heading { color: var(--white); }

  .termine-stage {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 60px;
    align-items: center;
    max-width: 1100px;
    margin: 0 auto;
  }

  .poster-wrap {
    position: relative;
    flex-shrink: 0;
  }

  .poster-wrap::before {
    content: '';
    position: absolute;
    inset: -24px;
    background: radial-gradient(ellipse at center, rgba(39,93,111,0.55) 0%, transparent 70%);
    border-radius: 20px;
    z-index: 0;
    filter: blur(18px);
  }

  .poster-wrap img {
    position: relative;
    z-index: 1;
    width: 320px;
    border-radius: 14px;
    box-shadow:
      0 0 0 1px rgba(255,255,255,.08),
      0 20px 60px rgba(0,0,0,.7),
      0 0 80px rgba(39,93,111,.4);
    transition: transform .35s, box-shadow .35s;
    display: block;
  }

  .poster-wrap img:hover {
    transform: scale(1.03) translateY(-4px);
    box-shadow:
      0 0 0 1px rgba(255,255,255,.12),
      0 30px 80px rgba(0,0,0,.8),
      0 0 120px rgba(39,93,111,.55);
  }

  .events-stack {
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .events-header { margin-bottom: 12px; }

  .event-card {
    background: rgba(255,255,255,.05);
    border: 1px solid rgba(255,255,255,.1);
    border-radius: 14px;
    overflow: hidden;
    backdrop-filter: blur(6px);
    transition: background .25s, transform .25s, border-color .25s;
  }

  .event-card:hover {
    background: rgba(255,255,255,.09);
    border-color: rgba(39,93,111,.6);
    transform: translateX(6px);
  }

  .event-card-header {
    background: linear-gradient(90deg, rgba(39,93,111,.7) 0%, rgba(39,93,111,.2) 100%);
    color: var(--white);
    padding: 20px 28px;
    border-bottom: 1px solid rgba(255,255,255,.07);
  }

  .event-date {
    font-size: 12px;
    letter-spacing: 2px;
    text-transform: uppercase;
    opacity: .65;
    margin-bottom: 6px;
    font-weight: 600;
  }

  .event-title { font-size: 1.2rem; font-weight: 800; line-height: 1.25; }
  .event-body { padding: 20px 28px; }
  .event-body p { color: rgba(255,255,255,.65); margin-bottom: 16px; font-size: 0.9rem; line-height: 1.7; }
  .event-meta { display: flex; flex-direction: column; gap: 8px; }

  .event-meta span {
    font-size: 13px;
    color: #6fa8be;
    display: flex;
    align-items: flex-start;
    gap: 8px;
  }

  .event-meta svg { width: 14px; height: 14px; fill: #6fa8be; flex-shrink: 0; margin-top: 2px; }

  @media (max-width: 900px) {
    .termine-stage { grid-template-columns: 1fr; }
    .poster-wrap { text-align: center; }

    .poster-wrap,
    .events-stack {
      width: calc(100% + 48px);
      max-width: none;
      margin-left: -24px;
      margin-right: -24px;
    }

    .poster-wrap img {
      width: 100%;
      max-width: 100%;
      border-radius: 0;
    }

    .event-card {
      border-radius: 0;
      border-left: none;
      border-right: none;
    }
  }
</style>
